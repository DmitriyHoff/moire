import{r as h,o as s,a as e,b as t,t as b,w as u,f as a,p as v,C as f,G as g,S as y,u as m,F as $,d as k,j as C,k as w,m as B}from"./index-2789c03f.js";const S="/moire/assets/product-square-4-ef6628ce.jpg",x={class:"cart__item product"},V=t("div",{class:"product__pic"},[t("img",{src:S,width:"120",height:"120",alt:"Название товара"})],-1),j={class:"product__title"},z=t("p",{class:"product__info product__info--color"},[a(" Цвет: "),t("span",null,[t("i",{style:{"background-color":"#ff9b78"}}),a(" Персиковый ")])],-1),D=t("span",{class:"product__code"}," Артикул: 1501230 ",-1),N={class:"product__counter form__counter"},T={type:"button","aria-label":"Убрать один товар"},F={size:"10 10",symbol:"icon-minus"},K=t("input",{type:"text",value:"1",name:"count"},null,-1),O={type:"button","aria-label":"Добавить один товар"},q={size:"10 10",symbol:"icon-plus"},A=t("b",{class:"product__price"}," 990 ₽ ",-1),E={class:"product__del button-del",type:"button","aria-label":"Удалить товар из корзины"},G={size:"10 10",symbol:"icon-close"},I={__name:"CartItem",props:["item"],setup(d){const o=h(d.item.product);return console.log(o.value),(r,_)=>{const c=v("svg");return s(),e("li",x,[V,t("h3",j,b(o.value.title),1),z,D,t("div",N,[t("button",T,[u((s(),e("svg",F,null,512)),[[c]])]),K,t("button",O,[u((s(),e("svg",q,null,512)),[[c]])])]),A,t("button",E,[u((s(),e("svg",G,null,512)),[[c]])])])}}},L={class:"content container"},M=t("div",{class:"content__top"},null,-1),P={class:"cart"},R={key:0,class:"cart__form form",action:"#",method:"POST"},H={class:"cart__field"},J={class:"cart__list"},Q=t("div",{class:"cart__block"},[t("p",{class:"cart__desc"},"Мы посчитаем стоимость доставки на следующем этапе"),t("p",{class:"cart__price"},[a("Итого: "),t("span",null,"4 070 ₽")]),t("button",{class:"cart__button button button--primery",type:"submit"},"Оформить заказ")],-1),U={key:1},W=t("h2",null,"Ой, пусто!",-1),X=t("p",null,[a(" Ваша корзина пуста, откройте каталог "),t("br"),a("и выбирайте лучшие товары с бесплатной доставкой ")],-1),Y=t("br",null,null,-1),tt={__name:"CartView",setup(d){var c;const n=f(),{user:o,cart:r}=g(n);console.log("user in cart:",o);const _=h(!1);return(c=o.value)!=null&&c.accessKey&&(_.value=!0,y.getBasket(o.value.accessKey).then(i=>{Object.assign(r,i),n.user=o,_.value=!1})),console.log("store",n.count),(i,p)=>(s(),e("main",L,[M,t("section",P,[!_.value&&m(n).count>0?(s(),e("form",R,[t("div",H,[t("ul",J,[(s(!0),e($,null,k(m(r).items,l=>(s(),B(I,{key:l.id,item:l},null,8,["item"]))),128))])]),Q])):_.value?w("",!0):(s(),e("div",U,[W,X,Y,t("button",{class:"item__button button button--primery",onClick:p[0]||(p[0]=C(l=>i.$router.push({name:"products"}),["prevent"]))}," Начать покупки ")]))])]))}};export{tt as default};
