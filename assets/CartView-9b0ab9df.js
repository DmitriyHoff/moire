import{r as m,o,a as c,b as t,t as _,f as i,E as f,u as h,w as p,p as y,C as g,G as k,S as $,F as C,d as w,j as B,k as S,m as j}from"./index-90a9aa81.js";const x="/moire/assets/product-square-4-ef6628ce.jpg",b={Red:"Красный",Blue:"Синий",Green:"Зелёный",Yellow:"Жёлтый",Purple:"Фиолетовый",Pink:"Розовый",black:"Чёрный",white:"Белый"};function z(n){const e=Object.keys(b).find(s=>s.toUpperCase().trim()===n.toUpperCase().trim());return e?b[e]:n}const T={class:"cart__item product"},V=t("div",{class:"product__pic"},[t("img",{src:x,width:"120",height:"120",alt:"Название товара"})],-1),D={class:"product__title"},O={class:"product__info product__info--color"},P={class:"product__code"},q={class:"product__counter form__counter"},E={type:"button","aria-label":"Убрать один товар"},F={size:"10 10",symbol:"icon-minus"},G=["value"],K={type:"button","aria-label":"Добавить один товар"},N={size:"10 10",symbol:"icon-plus"},R={class:"product__price"},U={class:"product__del button-del",type:"button","aria-label":"Удалить товар из корзины"},A={size:"10 10",symbol:"icon-close"},I={__name:"CartItem",props:["item"],setup(n){const e=n,s=m(e.item.product),a=m(e.item.quantity);return console.log("product",e.item),(l,u)=>{const r=y("svg");return o(),c("li",T,[V,t("h3",D,_(s.value.title),1),t("p",O,[i(" Цвет: "),t("span",null,[t("i",{style:f(`background-color: ${n.item.color.color.code}`)},null,4),i(" "+_(h(z)(n.item.color.color.title)),1)])]),t("span",P," Артикул: "+_((s.value.id,s.value.color)),1),t("div",q,[t("button",E,[p((o(),c("svg",F,null,512)),[[r]])]),t("input",{type:"text",value:a.value,name:"count"},null,8,G),t("button",K,[p((o(),c("svg",N,null,512)),[[r]])])]),t("b",R,_(s.value.price)+"₽ ",1),t("button",U,[p((o(),c("svg",A,null,512)),[[r]])])])}}},L={class:"content container"},M=t("div",{class:"content__top"},null,-1),Y={class:"cart"},H={key:0,class:"cart__form form",action:"#",method:"POST"},J={class:"cart__field"},Q={class:"cart__list"},W=t("div",{class:"cart__block"},[t("p",{class:"cart__desc"},"Мы посчитаем стоимость доставки на следующем этапе"),t("p",{class:"cart__price"},[i("Итого: "),t("span",null,"4 070 ₽")]),t("button",{class:"cart__button button button--primery",type:"submit"},"Оформить заказ")],-1),X={key:1},Z=t("h2",null,"Ой, пусто!",-1),tt=t("p",null,[i(" Ваша корзина пуста, откройте каталог "),t("br"),i("и выбирайте лучшие товары с бесплатной доставкой ")],-1),et=t("br",null,null,-1),ot={__name:"CartView",setup(n){var u;const e=g(),{user:s,cart:a}=k(e);console.log("cart:",a.value);const l=m(!1);return(u=s.value)!=null&&u.accessKey&&(l.value=!0,$.getBasket(s.value.accessKey).then(r=>{Object.assign(a,r),e.user=s,l.value=!1})),(r,v)=>(o(),c("main",L,[M,t("section",Y,[!l.value&&h(e).count>0?(o(),c("form",H,[t("div",J,[t("ul",Q,[(o(!0),c(C,null,w(h(a).items,d=>(o(),j(I,{key:d.id,item:d},null,8,["item"]))),128))])]),W])):l.value?S("",!0):(o(),c("div",X,[Z,tt,et,t("button",{class:"item__button button button--primery",onClick:v[0]||(v[0]=B(d=>r.$router.push({name:"products"}),["prevent"]))}," Начать покупки ")]))])]))}};export{ot as default};
