var B=Object.defineProperty;var N=(c,s,o)=>s in c?B(c,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):c[s]=o;var g=(c,s,o)=>(N(c,typeof s!="symbol"?s+"":s,o),o);import{y as A,o as i,a as r,F as $,d as k,m as I,l as R,t as v,f as h,c as y,r as m,x as U,b as e,u as _,p as V,j as S,S as D,z as O,w as z,v as T,i as E,A as F,s as H,n as M,h as b,k as P}from"./index-4571a357.js";import{S as j,_ as q,P as G}from"./ProductColors-bb28fcf0.js";const K={class:"breadcrumbs"},J={key:1,class:"breadcrumbs__link",style:{"pointer-events":"none"}},Q={__name:"BreadcrumbTrail",props:["links"],setup(c){return(s,o)=>{const l=A("RouterLink");return i(),r("ul",K,[(i(!0),r($,null,k(c.links,(t,n)=>(i(),r("li",{class:"breadcrumbs__item",key:t.title},[n<c.links.length-1?(i(),I(l,{key:0,class:"breadcrumbs__link",to:t.route},{default:R(()=>[h(v(t.title),1)]),_:2},1032,["to"])):(i(),r("span",J,v(t.title),1))]))),128))])}}},W={class:"item__pics pics"},X={class:"pics__wrapper"},Y=["src","hidden"],Z={class:"pics__list"},ee=["src","alt","onClick"],te={__name:"ProductGallery",props:["colors","selected","loading"],setup(c){const s=c,o=y(function(){return s.colors}),l=m(0);U(()=>s.selected,()=>{l.value=s.colors.findIndex(n=>n.id===s.selected)});function t(n){var a;return n?(a=n[0])==null?void 0:a.file.url:"/src/assets/no-image.svg"}return(n,a)=>(i(),r("div",W,[e("div",X,[(i(!0),r($,null,k(_(o),(u,d)=>(i(),r("img",{key:u.id,width:"570",height:"570",src:t(_(o)[l.value].gallery),alt:"Название товара",ref_for:!0,ref:"img",hidden:l.value!==d},null,8,Y))),128))]),e("ul",Z,[(i(!0),r($,null,k(_(o),(u,d)=>(i(),r("li",{key:u.id,class:"pics__item"},[e("a",{href:"",class:V(["pics__link",d===l.value?"pics__link--current":""])},[e("img",{width:"98",height:"98",src:t(u.gallery),alt:u.color.title,onClick:S(C=>l.value=d,["prevent"])},null,8,ee)],2)]))),128))])]))}},se={class:"item__desc"},oe={class:"tabs"},le={class:"tabs__item"},ne={class:"tabs__item"},ie=["hidden"],ae=O("<h3>Состав:</h3><p> 60% хлопок<br> 30% полиэстер<br></p><h3>Уход:</h3><p> Машинная стирка при макс. 30ºC короткий отжим<br> Гладить при макс. 110ºC<br> Не использовать машинную сушку<br> Отбеливать запрещено<br> Не подвергать химчистке<br></p>",4),re=[ae],ce=["hidden"],_e=e("h3",null,"Доставка:",-1),ue=e("p",null,[h(" 1. Курьерская доставка по Москве и Московской области – 290 ₽"),e("br"),h(" 2. Самовывоз из магазина. Список и адреса магазинов Вы можете посмотреть здесь"),e("br")],-1),de=e("h3",null,"Возврат:",-1),me=e("br",null,null,-1),ve=e("br",null,null,-1),pe=e("br",null,null,-1),he={__name:"ProductInfo",setup(c){const s=m("about");function o(t){return s.value===t}function l(t){s.value=t}return(t,n)=>(i(),r("div",se,[e("ul",oe,[e("li",le,[e("a",{class:V(["tabs__link",{"tabs__link--current":o("about")}]),onClick:n[0]||(n[0]=S(a=>l("about"),["prevent"]))}," Информация о товаре ",2)]),e("li",ne,[e("a",{class:V(["tabs__link",{"tabs__link--current":o("delivery")}]),onClick:n[1]||(n[1]=S(a=>l("delivery"),["prevent"]))}," Доставка и возврат ",2)])]),e("div",{class:"item__content",hidden:!o("about")},re,8,ie),e("div",{class:"item__content",hidden:!o("delivery")},[_e,ue,de,e("p",null,[h(" Любой возврат должен быть осуществлен в течение Возвраты в магазине БЕСПЛАТНО."),me,h(" Вы можете вернуть товары в любой магазин. Магазин должен быть расположен в стране, в которой Вы осуществили покупку. БЕСПЛАТНЫЙ возврат в Пункт выдачи заказов."),ve,h(" Для того чтобы вернуть товар в одном из наших Пунктов выдачи заказов, позвоните по телефону "+v(_(D)),1),pe])],8,ce)]))}},be=["value"],fe={__name:"ProductSizeSelect",props:["sizeList","modelValue"],emits:["update:modelValue"],setup(c,{emit:s}){const o=c;console.log(o.sizeList);const l=y({get(){return o.modelValue},set(t){s("update:modelValue",t)}});return(t,n)=>z((i(),r("select",{class:"form__select",name:"category","onUpdate:modelValue":n[0]||(n[0]=a=>E(l)?l.value=a:null)},[(i(!0),r($,null,k(c.sizeList,a=>(i(),r("option",{value:a.id,key:a.id},v(a.title),9,be))),128))],512)),[[T,_(l)]])}};class ge{constructor({id:s,color:o,size:l}){g(this,"_id");g(this,"_color");g(this,"_size");this._id=s,this._color=o,this._size=l}toString(){return`${this._id.toString().padStart(3,"0")}${this._color.toString().padStart(2,"0")}${this._size.toString().padStart(2,"0")}`}}const $e={class:"content container"},ke={class:"content__top"},ye={key:1,class:"item"},Se={class:"item__info"},Ve={class:"item__code"},ze={class:"item__title"},Ce={class:"item__form"},we={class:"form",action:"#",method:"POST"},xe={class:"item__row item__row--center"},Pe={class:"form__counter"},Ie={type:"button","aria-label":"Убрать один товар"},Le={symbol:"icon-minus",size:"0 0 12 12"},Be=e("input",{type:"text",value:"1",name:"count"},null,-1),Ne={type:"button","aria-label":"Добавить один товар"},Ae={symbol:"icon-plus",size:"0 0 12 12"},Re={class:"item__price"},Ue={class:"item__row"},De={class:"form__block"},Oe=e("legend",{class:"form__legend"},"Цвет",-1),Te={class:"form__block"},Ee=e("legend",{class:"form__legend"},"Размер",-1),Fe={class:"form__label form__label--small form__label--select"},Ge={__name:"ProductView",emits:["loadingStart","loadingComplete"],setup(c,{emit:s}){const o=F(),l=m(!0),t=m({}),n=m(),a=m(),u=y(()=>t.value&&a.value&&n.value?new ge({id:t.value.id,color:a.value,size:n.value}):""),d=m([]),C=H(),w=y(function(){return t.value.colors||[]});L();async function L(){l.value=!0,s("loadingStart"),t.value=await j.getProductById(C.params.id),d.value=[{title:"Каталог",route:{name:"main"}},{title:t.value.category.title,route:{name:"products",query:{categoryId:t.value.category.id}}},{title:t.value.title,route:{path:"#"}}],n.value=t.value.sizes[0].id,a.value=t.value.colors[0].color.id,l.value=!1,s("loadingComplete")}return(He,p)=>{const x=M("svg");return i(),r("main",$e,[e("div",ke,[b(Q,{links:d.value},null,8,["links"])]),l.value?(i(),I(G,{key:0})):P("",!0),l.value?P("",!0):(i(),r("section",ye,[b(te,{colors:_(w),selected:a.value,loading:l.value},null,8,["colors","selected","loading"]),e("div",Se,[e("span",Ve,"Артикул: "+v(_(u)),1),e("h2",ze,v(t.value.title),1),e("div",Ce,[e("form",we,[e("div",xe,[e("div",Pe,[e("button",Ie,[z((i(),r("svg",Le,null,512)),[[x]])]),Be,e("button",Ne,[z((i(),r("svg",Ae,null,512)),[[x]])])]),e("b",Re,v(t.value.price)+" ₽ ",1)]),e("div",Ue,[e("fieldset",De,[Oe,b(q,{colors:_(w),modelValue:a.value,"onUpdate:modelValue":p[0]||(p[0]=f=>a.value=f)},null,8,["colors","modelValue"])]),e("fieldset",Te,[Ee,e("label",Fe,[b(fe,{"size-list":t.value.sizes,modelValue:n.value,"onUpdate:modelValue":p[1]||(p[1]=f=>n.value=f)},null,8,["size-list","modelValue"])])])]),e("button",{class:"item__button button button--primery",type:"submit",onClick:p[2]||(p[2]=S(f=>_(o).increment(),["prevent"]))}," В корзину ")])])]),b(he)]))])}}};export{Ge as default};
